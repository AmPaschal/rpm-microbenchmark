## Microbenchmarking individual sensitive operations without an agent. 
(testfile.txt is 5.2kb while testfilecontents.txt is 52kb)

Benchmark                                    (command)                                                                                                                   (filename)                                                                                                              (inputFileName)  Mode  Cnt    Score    Error  Units
FileReadBenchmark.measureFileRead                  N/A          /home/pamusuo/research/permissions-manager/rpm-microbenchmark/src/main/java/com/ampaschal/google/files/testfile.txt                                                                                                                          N/A  avgt   15    7.960 ±  0.270  us/op
FileReadBenchmark.measureFileRead                  N/A  /home/pamusuo/research/permissions-manager/rpm-microbenchmark/src/main/java/com/ampaschal/google/files/testfilecontents.txt                                                                                                                          N/A  avgt   15    9.414 ±  0.382  us/op
FileWriteBenchmark.measureFileWrite                N/A                                                                                                                          N/A          /home/pamusuo/research/permissions-manager/rpm-microbenchmark/src/main/java/com/ampaschal/google/files/testfile.txt  avgt   15   33.779 ±  1.734  us/op
FileWriteBenchmark.measureFileWrite                N/A                                                                                                                          N/A  /home/pamusuo/research/permissions-manager/rpm-microbenchmark/src/main/java/com/ampaschal/google/files/testfilecontents.txt  avgt   15   33.181 ±  1.932  us/op
RuntimeExecBenchmark.measureShellExec            ls -l                                                                                                                          N/A                                                                                                                          N/A  avgt   15  320.689 ± 27.895  us/op
RuntimeExecBenchmark.measureShellExec           whoami                                                                                                                          N/A                                                                                                                          N/A  avgt   15  291.497 ± 23.459  us/op
SocketConnectBenchmark.measureSocketConnect        N/A                                                                                                                          N/A                                                                                                                          N/A  avgt   15   71.227 ±  2.564  us/op
              
## Microbenchmarking individual sensitive operations with an agent. 

Benchmark                                    (command)                                                                                                                   (filename)                                                                                                              (inputFileName)  Mode  Cnt    Score   Error  Units
FileReadBenchmark.measureFileRead                  N/A          /home/pamusuo/research/permissions-manager/rpm-microbenchmark/src/main/java/com/ampaschal/google/files/testfile.txt                                                                                                                          N/A  avgt   15   23.620 ± 0.199  us/op
FileReadBenchmark.measureFileRead                  N/A  /home/pamusuo/research/permissions-manager/rpm-microbenchmark/src/main/java/com/ampaschal/google/files/testfilecontents.txt                                                                                                                          N/A  avgt   15   24.663 ± 0.346  us/op
FileWriteBenchmark.measureFileWrite                N/A                                                                                                                          N/A          /home/pamusuo/research/permissions-manager/rpm-microbenchmark/src/main/java/com/ampaschal/google/files/testfile.txt  avgt   15   33.230 ± 0.563  us/op
FileWriteBenchmark.measureFileWrite                N/A                                                                                                                          N/A  /home/pamusuo/research/permissions-manager/rpm-microbenchmark/src/main/java/com/ampaschal/google/files/testfilecontents.txt  avgt   15   33.568 ± 0.582  us/op
RuntimeExecBenchmark.measureShellExec            ls -l                                                                                                                          N/A                                                                                                                          N/A  avgt   15  345.703 ± 3.981  us/op
RuntimeExecBenchmark.measureShellExec           whoami                                                                                                                          N/A                                                                                                                          N/A  avgt   15  323.734 ± 2.295  us/op
SocketConnectBenchmark.measureSocketConnect        N/A                                                                                                                          N/A                                                                                                                          N/A  avgt   15   72.186 ± 2.343  us/op

## Microbenchmarks to show how the number of packages and the size of the stacktrace at point of invocation influences the individual PermissionsManager functions 
"index" shows the number of classes in the stacktrace. To simulate worst case scenario, each class belongs to a different package
"permFile" represents the permission files, showing number of packages with defined permissions. The number at the end of the file (x in permission_file_x.json) shows the number of package permissions defined in the file
measurePermissionVerificationReflection shows the results when the checkPermission method is invoked using reflection. Our instrumentation invokes the checkPermission method using reflection 
measurePermissionVerification shows the results when the method is invoked directly.
Results show the reflection does not introduce significant overhead.
The results show the checkPermission method runtime cost experiences only negligible increase as the number of packages and size of stacktrace increases

measurePermissionSetup measures the cost of calling the PermissionsManager.setup method. 
In this method, we read the permissions file and create the permissions context.
This operation is done only once at the start of the application.

Benchmark                                                         (index)                                                                                        (permFile)  Mode  Cnt     Score    Error  Units
CheckPermissionBenchmark.measurePermissionVerification                  0    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_0.json  avgt   15     6.718 ±  0.097  us/op
CheckPermissionBenchmark.measurePermissionVerification                  0    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_1.json  avgt   15     6.901 ±  0.074  us/op
CheckPermissionBenchmark.measurePermissionVerification                  0    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_3.json  avgt   15     6.836 ±  0.075  us/op
CheckPermissionBenchmark.measurePermissionVerification                  0    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_5.json  avgt   15     6.938 ±  0.113  us/op
CheckPermissionBenchmark.measurePermissionVerification                  0   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_10.json  avgt   15     6.829 ±  0.070  us/op
CheckPermissionBenchmark.measurePermissionVerification                  0   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_20.json  avgt   15     9.442 ±  0.171  us/op
CheckPermissionBenchmark.measurePermissionVerification                  0   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_40.json  avgt   15     7.551 ±  1.881  us/op
CheckPermissionBenchmark.measurePermissionVerification                  5    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_0.json  avgt   15     6.642 ±  0.075  us/op
CheckPermissionBenchmark.measurePermissionVerification                  5    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_1.json  avgt   15     6.911 ±  0.080  us/op
CheckPermissionBenchmark.measurePermissionVerification                  5    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_3.json  avgt   15     7.071 ±  0.350  us/op
CheckPermissionBenchmark.measurePermissionVerification                  5    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_5.json  avgt   15     7.039 ±  0.099  us/op
CheckPermissionBenchmark.measurePermissionVerification                  5   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_10.json  avgt   15     7.044 ±  0.055  us/op
CheckPermissionBenchmark.measurePermissionVerification                  5   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_20.json  avgt   15     7.103 ±  0.054  us/op
CheckPermissionBenchmark.measurePermissionVerification                  5   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_40.json  avgt   15     7.044 ±  0.029  us/op
CheckPermissionBenchmark.measurePermissionVerification                 10    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_0.json  avgt   15     7.335 ±  0.123  us/op
CheckPermissionBenchmark.measurePermissionVerification                 10    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_1.json  avgt   15     7.646 ±  0.052  us/op
CheckPermissionBenchmark.measurePermissionVerification                 10    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_3.json  avgt   15     8.000 ±  0.314  us/op
CheckPermissionBenchmark.measurePermissionVerification                 10    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_5.json  avgt   15     7.882 ±  0.119  us/op
CheckPermissionBenchmark.measurePermissionVerification                 10   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_10.json  avgt   15     7.998 ±  0.096  us/op
CheckPermissionBenchmark.measurePermissionVerification                 10   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_20.json  avgt   15     8.192 ±  0.195  us/op
CheckPermissionBenchmark.measurePermissionVerification                 10   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_40.json  avgt   15     7.988 ±  0.066  us/op
CheckPermissionBenchmark.measurePermissionVerification                 15    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_0.json  avgt   15     7.810 ±  0.062  us/op
CheckPermissionBenchmark.measurePermissionVerification                 15    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_1.json  avgt   15     8.431 ±  0.116  us/op
CheckPermissionBenchmark.measurePermissionVerification                 15    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_3.json  avgt   15     8.594 ±  0.044  us/op
CheckPermissionBenchmark.measurePermissionVerification                 15    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_5.json  avgt   15     8.712 ±  0.044  us/op
CheckPermissionBenchmark.measurePermissionVerification                 15   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_10.json  avgt   15     8.827 ±  0.182  us/op
CheckPermissionBenchmark.measurePermissionVerification                 15   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_20.json  avgt   15     9.051 ±  0.060  us/op
CheckPermissionBenchmark.measurePermissionVerification                 15   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_40.json  avgt   15     9.063 ±  0.132  us/op
CheckPermissionBenchmark.measurePermissionVerification                 20    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_0.json  avgt   15     8.579 ±  0.209  us/op
CheckPermissionBenchmark.measurePermissionVerification                 20    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_1.json  avgt   15     9.613 ±  0.764  us/op
CheckPermissionBenchmark.measurePermissionVerification                 20    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_3.json  avgt   15     9.535 ±  0.424  us/op
CheckPermissionBenchmark.measurePermissionVerification                 20    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_5.json  avgt   15     9.575 ±  0.079  us/op
CheckPermissionBenchmark.measurePermissionVerification                 20   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_10.json  avgt   15     9.535 ±  0.094  us/op
CheckPermissionBenchmark.measurePermissionVerification                 20   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_20.json  avgt   15     9.969 ±  0.056  us/op
CheckPermissionBenchmark.measurePermissionVerification                 20   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_40.json  avgt   15    10.132 ±  0.084  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection        0    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_0.json  avgt   15    12.615 ±  0.108  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection        0    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_1.json  avgt   15    12.738 ±  0.032  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection        0    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_3.json  avgt   15    12.793 ±  0.073  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection        0    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_5.json  avgt   15    12.717 ±  0.070  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection        0   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_10.json  avgt   15    12.797 ±  0.142  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection        0   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_20.json  avgt   15    12.800 ±  0.050  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection        0   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_40.json  avgt   15    12.786 ±  0.095  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection        5    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_0.json  avgt   15    13.083 ±  0.065  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection        5    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_1.json  avgt   15    13.422 ±  0.055  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection        5    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_3.json  avgt   15    13.473 ±  0.066  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection        5    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_5.json  avgt   15    13.617 ±  0.078  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection        5   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_10.json  avgt   15    13.575 ±  0.099  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection        5   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_20.json  avgt   15    13.579 ±  0.053  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection        5   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_40.json  avgt   15    13.900 ±  0.219  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       10    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_0.json  avgt   15    14.092 ±  0.612  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       10    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_1.json  avgt   15    14.147 ±  0.068  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       10    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_3.json  avgt   15    14.713 ±  0.696  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       10    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_5.json  avgt   15    14.248 ±  0.060  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       10   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_10.json  avgt   15    14.634 ±  0.351  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       10   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_20.json  avgt   15    14.601 ±  0.069  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       10   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_40.json  avgt   15    14.708 ±  0.356  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       15    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_0.json  avgt   15    14.328 ±  0.079  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       15    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_1.json  avgt   15    14.984 ±  0.125  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       15    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_3.json  avgt   15    15.113 ±  0.047  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       15    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_5.json  avgt   15    15.180 ±  0.053  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       15   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_10.json  avgt   15    15.330 ±  0.172  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       15   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_20.json  avgt   15    15.562 ±  0.077  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       15   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_40.json  avgt   15    15.691 ±  0.160  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       20    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_0.json  avgt   15    15.165 ±  0.145  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       20    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_1.json  avgt   15    15.660 ±  0.115  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       20    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_3.json  avgt   15    15.797 ±  0.124  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       20    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_5.json  avgt   15    15.984 ±  0.096  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       20   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_10.json  avgt   15    16.246 ±  0.340  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       20   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_20.json  avgt   15    17.063 ±  0.694  us/op
CheckPermissionBenchmark.measurePermissionVerificationReflection       20   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_40.json  avgt   15    16.704 ±  0.166  us/op
PermissionSetupBenchmark.measurePermissionSetup                       N/A    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_0.json  avgt   15    48.370 ±  2.189  us/op
PermissionSetupBenchmark.measurePermissionSetup                       N/A    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_1.json  avgt   15    52.456 ±  0.883  us/op
PermissionSetupBenchmark.measurePermissionSetup                       N/A    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_3.json  avgt   15    56.337 ±  0.829  us/op
PermissionSetupBenchmark.measurePermissionSetup                       N/A    /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_5.json  avgt   15    60.151 ±  1.089  us/op
PermissionSetupBenchmark.measurePermissionSetup                       N/A   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_10.json  avgt   15    68.215 ±  0.302  us/op
PermissionSetupBenchmark.measurePermissionSetup                       N/A   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_20.json  avgt   15   100.415 ± 12.102  us/op
PermissionSetupBenchmark.measurePermissionSetup                       N/A   /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_40.json  avgt   15   158.504 ±  4.048  us/op
PermissionSetupBenchmark.measurePermissionSetup                       N/A  /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_100.json  avgt   15   887.454 ± 85.969  us/op
PermissionSetupBenchmark.measurePermissionSetup                       N/A  /home/pamusuo/research/permissions-manager/PPMProfiler/permission_files/permission_file_500.json  avgt   15  4023.763 ± 70.070  us/op
